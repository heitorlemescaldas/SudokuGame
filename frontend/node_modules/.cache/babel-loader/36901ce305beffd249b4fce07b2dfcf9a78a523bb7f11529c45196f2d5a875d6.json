{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lemes\\\\Documents\\\\PRW2 - Danilo\\\\sudoku-main\\\\frontend\\\\src\\\\pages\\\\Game.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { saveResult } from '../services/game';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialSudoku = [[5, 3, 0, 0, 7, 0, 0, 0, 0], [6, 0, 0, 1, 9, 5, 0, 0, 0], [0, 9, 8, 0, 0, 0, 0, 6, 0], [8, 0, 0, 0, 6, 0, 0, 0, 3], [4, 0, 0, 8, 0, 3, 0, 0, 1], [7, 0, 0, 0, 2, 0, 0, 0, 6], [0, 6, 0, 0, 0, 0, 2, 8, 0], [0, 0, 0, 4, 1, 9, 0, 0, 5], [0, 0, 0, 0, 8, 0, 0, 7, 9]];\nconst Game = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [sudoku, setSudoku] = useState(initialSudoku);\n  const [attempts, setAttempts] = useState(3);\n  const [timer, setTimer] = useState(0);\n  const [isIncorrect, setIsIncorrect] = useState(false);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setTimer(timer => timer + 1);\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n  const handleChange = (row, col, value) => {\n    if (attempts <= 0) return;\n    const newSudoku = [...sudoku];\n    newSudoku[row][col] = value;\n    setSudoku(newSudoku);\n  };\n  const handleSubmit = async () => {\n    if (attempts > 0) {\n      const isCorrect = checkSudoku(sudoku);\n      if (isCorrect) {\n        alert('Parabéns, você completou o Sudoku!');\n        await saveResult({\n          username: user.username,\n          timeTaken: timer\n        });\n        navigate('/ranking');\n      } else {\n        setIsIncorrect(true);\n        setTimeout(() => setIsIncorrect(false), 500);\n        setAttempts(attempts - 1);\n        if (attempts === 1) {\n          alert('Acabaram as tentativas.');\n          navigate('/');\n        }\n      }\n    }\n  };\n  const checkSudoku = sudoku => {\n    // Verificar linhas\n    for (let row = 0; row < 9; row++) {\n      const rowSet = new Set();\n      for (let col = 0; col < 9; col++) {\n        if (sudoku[row][col] === 0 || rowSet.has(sudoku[row][col])) {\n          return false;\n        }\n        rowSet.add(sudoku[row][col]);\n      }\n    }\n\n    // Verificar colunas\n    for (let col = 0; col < 9; col++) {\n      const colSet = new Set();\n      for (let row = 0; row < 9; row++) {\n        if (sudoku[row][col] === 0 || colSet.has(sudoku[row][col])) {\n          return false;\n        }\n        colSet.add(sudoku[row][col]);\n      }\n    }\n    return true;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Sudoku\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Tempo: \", timer, \"s\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Tentativas restantes: \", attempts]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: isIncorrect ? 'sudoku incorrect' : 'sudoku',\n      children: sudoku.map((row, rowIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sudoku-row\",\n        children: row.map((cell, colIndex) => /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          min: \"1\",\n          max: \"9\",\n          value: cell !== 0 ? cell : '',\n          onChange: e => handleChange(rowIndex, colIndex, Number(e.target.value)),\n          disabled: cell !== 0,\n          className: \"sudoku-cell\"\n        }, colIndex, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, this))\n      }, rowIndex, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      children: \"Fazer Tentativa\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n_s(Game, \"pju+qC3bxEJRv4Vwas753ugxXmk=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Game;\nexport default Game;\nvar _c;\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","saveResult","jsxDEV","_jsxDEV","initialSudoku","Game","_s","user","sudoku","setSudoku","attempts","setAttempts","timer","setTimer","isIncorrect","setIsIncorrect","navigate","interval","setInterval","clearInterval","handleChange","row","col","value","newSudoku","handleSubmit","isCorrect","checkSudoku","alert","username","timeTaken","setTimeout","rowSet","Set","has","add","colSet","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","rowIndex","cell","colIndex","type","min","max","onChange","e","Number","target","disabled","onClick","_c","$RefreshReg$"],"sources":["C:/Users/lemes/Documents/PRW2 - Danilo/sudoku-main/frontend/src/pages/Game.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { saveResult } from '../services/game';\r\n\r\nconst initialSudoku = [\r\n  [5, 3, 0, 0, 7, 0, 0, 0, 0],\r\n  [6, 0, 0, 1, 9, 5, 0, 0, 0],\r\n  [0, 9, 8, 0, 0, 0, 0, 6, 0],\r\n  [8, 0, 0, 0, 6, 0, 0, 0, 3],\r\n  [4, 0, 0, 8, 0, 3, 0, 0, 1],\r\n  [7, 0, 0, 0, 2, 0, 0, 0, 6],\r\n  [0, 6, 0, 0, 0, 0, 2, 8, 0],\r\n  [0, 0, 0, 4, 1, 9, 0, 0, 5],\r\n  [0, 0, 0, 0, 8, 0, 0, 7, 9]\r\n];\r\n\r\nconst Game = () => {\r\n  const { user } = useAuth();\r\n  const [sudoku, setSudoku] = useState(initialSudoku);\r\n  const [attempts, setAttempts] = useState(3);\r\n  const [timer, setTimer] = useState(0);\r\n  const [isIncorrect, setIsIncorrect] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setTimer(timer => timer + 1);\r\n    }, 1000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const handleChange = (row, col, value) => {\r\n    if (attempts <= 0) return;\r\n    const newSudoku = [...sudoku];\r\n    newSudoku[row][col] = value;\r\n    setSudoku(newSudoku);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (attempts > 0) {\r\n      const isCorrect = checkSudoku(sudoku);\r\n      if (isCorrect) {\r\n        alert('Parabéns, você completou o Sudoku!');\r\n        await saveResult({ username: user.username, timeTaken: timer });\r\n        navigate('/ranking');\r\n      } else {\r\n        setIsIncorrect(true);\r\n        setTimeout(() => setIsIncorrect(false), 500);\r\n        setAttempts(attempts - 1);\r\n        if (attempts === 1) {\r\n          alert('Acabaram as tentativas.');\r\n          navigate('/');\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const checkSudoku = (sudoku) => {\r\n    // Verificar linhas\r\n    for (let row = 0; row < 9; row++) {\r\n      const rowSet = new Set();\r\n      for (let col = 0; col < 9; col++) {\r\n        if (sudoku[row][col] === 0 || rowSet.has(sudoku[row][col])) {\r\n          return false;\r\n        }\r\n        rowSet.add(sudoku[row][col]);\r\n      }\r\n    }\r\n\r\n    // Verificar colunas\r\n    for (let col = 0; col < 9; col++) {\r\n      const colSet = new Set();\r\n      for (let row = 0; row < 9; row++) {\r\n        if (sudoku[row][col] === 0 || colSet.has(sudoku[row][col])) {\r\n          return false;\r\n        }\r\n        colSet.add(sudoku[row][col]);\r\n      }\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Sudoku</h2>\r\n      <div>Tempo: {timer}s</div>\r\n      <div>Tentativas restantes: {attempts}</div>\r\n      <div className={isIncorrect ? 'sudoku incorrect' : 'sudoku'}>\r\n        {sudoku.map((row, rowIndex) => (\r\n          <div key={rowIndex} className=\"sudoku-row\">\r\n            {row.map((cell, colIndex) => (\r\n              <input\r\n                key={colIndex}\r\n                type=\"number\"\r\n                min=\"1\"\r\n                max=\"9\"\r\n                value={cell !== 0 ? cell : ''}\r\n                onChange={(e) => handleChange(rowIndex, colIndex, Number(e.target.value))}\r\n                disabled={cell !== 0}\r\n                className=\"sudoku-cell\"\r\n              />\r\n            ))}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <button onClick={handleSubmit}>Fazer Tentativa</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Game;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}